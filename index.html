<html lang="en"><head>
<meta charset="UTF-8">
<link rel="apple-touch-icon" type="image/png" href="https://static.codepen.io/assets/favicon/apple-touch-icon-5ae1a0698dcc2402e9712f7d01ed509a57814f994c660df9f7a952f3060705ee.png">
<meta name="apple-mobile-web-app-title" content="CodePen">
<link rel="shortcut icon" type="image/x-icon" href="https://static.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico">
<link rel="mask-icon" type="" href="https://static.codepen.io/assets/favicon/logo-pin-8f3771b1072e3c38bd662872f6b673a722f4b3ca2421637d5596661b4e2132cc.svg" color="#111">
<title>i-bar</title>
<style>
html,body{
  width: 100%;
  height: 100%;
}

#map {
    width: 100%;
    height: 100%;
}



.marker-cluster-small {
		background-color: rgba(181, 226, 140, 0.6);
		}
	.marker-cluster-small div {
		background-color: rgba(110, 204, 57, 0.6);
		}

	.marker-cluster-medium {
		background-color: rgba(241, 211, 87, 0.6);
		}
	.marker-cluster-medium div {
		background-color: rgba(240, 194, 12, 0.6);
		}

	.marker-cluster-large {
		background-color: rgba(253, 156, 115, 0.6);
		}
	.marker-cluster-large div {
		background-color: rgba(241, 128, 23, 0.6);
		}

	.marker-cluster {
		background-clip: padding-box;
		border-radius: 20px;
		}
	.marker-cluster div {
		width: 30px;
		height: 30px;
		margin-left: 15px;
		margin-top: 5px;

		text-align: center;
		border-radius: 15px;
		font: 30px "Helvetica Neue", Arial, Source Sans Pro, sans-serif;
		}
	.marker-cluster span {
		line-height: 30px;
		}

@import url(https://fonts.googleapis.com/earlyaccess/cwtexyen.css);
.popup-name {
    padding-left: 10px;
    border-left: 5px solid rgb(16, 120, 121);
    color: #000000;
    font-family: 'cwTeXYen', sans-serif;
    line-height:2;
    font-size: 25px;
    font-weight: bold;
}

.popup-star {
  padding-left: 10px;
    border-left: 5px solid rgb(	255,215,0);
    color: #000000;
    font-family: 'cwTeXYen', sans-serif;
    line-height:2;
    font-size:20px;
    font-weight: bold;
}

.popup-address {
    padding-left: 10px;
    border-left: 5px solid rgb(220,20,60);
    color: #000000;
    font-family: 'cwTeXYen', sans-serif;
    line-height:2;
    font-size: larger;
    font-weight: bold;
}
</style>
</head>
<body translate="no" class="">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css">
<link href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.1/MarkerCluster.css">
<link href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.1/MarkerCluster.Default.css">
<div id="map" class="leaflet-container leaflet-fade-anim leaflet-grab leaflet-touch-drag" tabindex="0" style="position: relative;"><div class="leaflet-pane leaflet-map-pane" style="transform: translate3d(173px, 559px, 0px);"><div class="leaflet-pane leaflet-tile-pane"><div class="leaflet-layer " style="z-index: 1; opacity: 1;"><div class="leaflet-tile-container leaflet-zoom-animated" style="z-index: 18; transform: translate3d(408px, 13px, 0px) scale(2);"></div><div class="leaflet-tile-container leaflet-zoom-animated" style="z-index: 19; transform: translate3d(-314px, -147px, 0px) scale(1);"><img alt="" role="presentation" src="https://a.tile.openstreetmap.org/19/439166/224455.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(606px, -2px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://b.tile.openstreetmap.org/19/439167/224455.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(862px, -2px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://c.tile.openstreetmap.org/19/439166/224454.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(606px, -258px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://a.tile.openstreetmap.org/19/439167/224454.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(862px, -258px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://b.tile.openstreetmap.org/19/439166/224456.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(606px, 254px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://c.tile.openstreetmap.org/19/439167/224456.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(862px, 254px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://c.tile.openstreetmap.org/19/439165/224455.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(350px, -2px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://c.tile.openstreetmap.org/19/439168/224455.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1118px, -2px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://b.tile.openstreetmap.org/19/439165/224454.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(350px, -258px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://b.tile.openstreetmap.org/19/439168/224454.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1118px, -258px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://a.tile.openstreetmap.org/19/439165/224456.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(350px, 254px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://a.tile.openstreetmap.org/19/439168/224456.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1118px, 254px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://b.tile.openstreetmap.org/19/439166/224453.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(606px, -514px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://c.tile.openstreetmap.org/19/439167/224453.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(862px, -514px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://c.tile.openstreetmap.org/19/439166/224457.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(606px, 510px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://a.tile.openstreetmap.org/19/439167/224457.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(862px, 510px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://a.tile.openstreetmap.org/19/439165/224453.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(350px, -514px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://a.tile.openstreetmap.org/19/439168/224453.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1118px, -514px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://b.tile.openstreetmap.org/19/439164/224455.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(94px, -2px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://a.tile.openstreetmap.org/19/439169/224455.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1374px, -2px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://b.tile.openstreetmap.org/19/439165/224457.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(350px, 510px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://b.tile.openstreetmap.org/19/439168/224457.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1118px, 510px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://a.tile.openstreetmap.org/19/439164/224454.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(94px, -258px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://c.tile.openstreetmap.org/19/439169/224454.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1374px, -258px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://c.tile.openstreetmap.org/19/439164/224456.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(94px, 254px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://b.tile.openstreetmap.org/19/439169/224456.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1374px, 254px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://c.tile.openstreetmap.org/19/439164/224453.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(94px, -514px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://b.tile.openstreetmap.org/19/439169/224453.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1374px, -514px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://a.tile.openstreetmap.org/19/439164/224457.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(94px, 510px, 0px); opacity: 1;"><img alt="" role="presentation" src="https://c.tile.openstreetmap.org/19/439169/224457.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(1374px, 510px, 0px); opacity: 1;"></div></div></div><div class="leaflet-pane leaflet-shadow-pane"><img src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png" class="leaflet-marker-shadow leaflet-zoom-animated" alt="" style="margin-left: -43px; margin-top: -96px; width: 10px; height: 10px; transform: translate3d(1259px, 45px, 0px); opacity: 1;"><img src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png" class="leaflet-marker-shadow leaflet-zoom-animated" alt="" style="margin-left: -43px; margin-top: -96px; width: 10px; height: 10px; transform: translate3d(302px, 900px, 0px); opacity: 1;"><img src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png" class="leaflet-marker-shadow leaflet-zoom-animated" alt="" style="margin-left: -43px; margin-top: -96px; width: 10px; height: 10px; transform: translate3d(-300px, -773px, 0px); opacity: 1;"><img src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png" class="leaflet-marker-shadow leaflet-zoom-animated" alt="" style="margin-left: -43px; margin-top: -96px; width: 10px; height: 10px; transform: translate3d(1809px, -684px, 0px); opacity: 1;"><img src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png" class="leaflet-marker-shadow leaflet-zoom-animated" alt="" style="margin-left: -43px; margin-top: -96px; width: 10px; height: 10px; transform: translate3d(152px, -92px, 0px); opacity: 1;"><img src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png" class="leaflet-marker-shadow leaflet-zoom-animated" alt="" style="margin-left: -43px; margin-top: -96px; width: 10px; height: 10px; transform: translate3d(1131px, -472px, 0px); opacity: 1;"><img src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png" class="leaflet-marker-shadow leaflet-zoom-animated" alt="" style="margin-left: -43px; margin-top: -96px; width: 10px; height: 10px; transform: translate3d(1453px, 943px, 0px); opacity: 1;"><img src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png" class="leaflet-marker-shadow leaflet-zoom-animated" alt="" style="margin-left: -43px; margin-top: -96px; width: 10px; height: 10px; transform: translate3d(1713px, 373px, 0px); opacity: 1;"><img src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png" class="leaflet-marker-shadow leaflet-zoom-animated" alt="" style="margin-left: -43px; margin-top: -96px; width: 10px; height: 10px; transform: translate3d(1955px, 873px, 0px); opacity: 1;"><img src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png" class="leaflet-marker-shadow leaflet-zoom-animated" alt="" style="margin-left: -43px; margin-top: -96px; width: 10px; height: 10px; transform: translate3d(-1021px, 991px, 0px); opacity: 1;"><img src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png" class="leaflet-marker-shadow leaflet-zoom-animated" alt="" style="margin-left: -43px; margin-top: -96px; width: 10px; height: 10px; transform: translate3d(-1174px, -813px, 0px); opacity: 1;"><img src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png" class="leaflet-marker-shadow leaflet-zoom-animated" alt="" style="margin-left: -43px; margin-top: -96px; width: 10px; height: 10px; transform: translate3d(1302px, -913px, 0px); opacity: 1;"><img src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png" class="leaflet-marker-shadow leaflet-zoom-animated" alt="" style="margin-left: -43px; margin-top: -96px; width: 10px; height: 10px; transform: translate3d(1291px, -1020px, 0px); opacity: 1;"><img src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png" class="leaflet-marker-shadow leaflet-zoom-animated" alt="" style="margin-left: -43px; margin-top: -96px; width: 10px; height: 10px; transform: translate3d(402px, -247px, 0px); opacity: 1;"><img src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png" class="leaflet-marker-shadow leaflet-zoom-animated" alt="" style="margin-left: -43px; margin-top: -96px; width: 10px; height: 10px; transform: translate3d(559px, -249px, 0px); opacity: 1;"><img src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png" class="leaflet-marker-shadow leaflet-zoom-animated" alt="" style="margin-left: -43px; margin-top: -96px; width: 10px; height: 10px; transform: translate3d(-1053px, -1428px, 0px);"></div><div class="leaflet-pane leaflet-overlay-pane"><svg pointer-events="none" class="leaflet-zoom-animated" width="1492" height="1142" viewBox="-297 -654 1492 1142" style="transform: translate3d(-297px, -654px, 0px);"><g><path class="leaflet-interactive" stroke="skyblue" stroke-opacity="1" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="#00298a" fill-opacity="0.1" fill-rule="evenodd" d="M653.8281329721212,47.947079092264175a370,370 0 1,0 740,0 a370,370 0 1,0 -740,0 "></path></g></svg></div><div class="leaflet-pane leaflet-marker-pane"><img src="https://github.com/Han-lai/i-bar_map/blob/master/icons8-cocktail1.png?raw=true" class="leaflet-marker-icon leaflet-zoom-animated leaflet-interactive" alt="" tabindex="0" style="margin-left: -43px; margin-top: -96px; width: 96px; height: 96px; transform: translate3d(1259px, 45px, 0px); z-index: 45; opacity: 1;"><img src="https://github.com/Han-lai/i-bar_map/blob/master/icons8-cocktail2.png?raw=true" class="leaflet-marker-icon leaflet-zoom-animated leaflet-interactive" alt="" tabindex="0" style="margin-left: -43px; margin-top: -96px; width: 96px; height: 96px; transform: translate3d(302px, 900px, 0px); z-index: 900; opacity: 1;"><img src="https://github.com/Han-lai/i-bar_map/blob/master/icons8-cocktail2.png?raw=true" class="leaflet-marker-icon leaflet-zoom-animated leaflet-interactive" alt="" tabindex="0" style="margin-left: -43px; margin-top: -96px; width: 96px; height: 96px; transform: translate3d(-300px, -773px, 0px); z-index: -773; opacity: 1;"><img src="https://github.com/Han-lai/i-bar_map/blob/master/icons8-cocktail2.png?raw=true" class="leaflet-marker-icon leaflet-zoom-animated leaflet-interactive" alt="" tabindex="0" style="margin-left: -43px; margin-top: -96px; width: 96px; height: 96px; transform: translate3d(1809px, -684px, 0px); z-index: -684; opacity: 1;"><img src="https://github.com/Han-lai/i-bar_map/blob/master/icons8-cocktail3.png?raw=true" class="leaflet-marker-icon leaflet-zoom-animated leaflet-interactive" alt="" tabindex="0" style="margin-left: -43px; margin-top: -96px; width: 96px; height: 96px; transform: translate3d(152px, -92px, 0px); z-index: -92; opacity: 1;"><img src="https://github.com/Han-lai/i-bar_map/blob/master/icons8-cocktail2.png?raw=true" class="leaflet-marker-icon leaflet-zoom-animated leaflet-interactive" alt="" tabindex="0" style="margin-left: -43px; margin-top: -96px; width: 96px; height: 96px; transform: translate3d(1131px, -472px, 0px); z-index: -472; opacity: 1;"><img src="https://github.com/Han-lai/i-bar_map/blob/master/icons8-cocktail1.png?raw=true" class="leaflet-marker-icon leaflet-zoom-animated leaflet-interactive" alt="" tabindex="0" style="margin-left: -43px; margin-top: -96px; width: 96px; height: 96px; transform: translate3d(1453px, 943px, 0px); z-index: 943; opacity: 1;"><img src="https://github.com/Han-lai/i-bar_map/blob/master/icons8-cocktail1.png?raw=true" class="leaflet-marker-icon leaflet-zoom-animated leaflet-interactive" alt="" tabindex="0" style="margin-left: -43px; margin-top: -96px; width: 96px; height: 96px; transform: translate3d(1713px, 373px, 0px); z-index: 373; opacity: 1;"><img src="https://github.com/Han-lai/i-bar_map/blob/master/icons8-cocktail2.png?raw=true" class="leaflet-marker-icon leaflet-zoom-animated leaflet-interactive" alt="" tabindex="0" style="margin-left: -43px; margin-top: -96px; width: 96px; height: 96px; transform: translate3d(1955px, 873px, 0px); z-index: 873; opacity: 1;"><img src="https://github.com/Han-lai/i-bar_map/blob/master/icons8-cocktail2.png?raw=true" class="leaflet-marker-icon leaflet-zoom-animated leaflet-interactive" alt="" tabindex="0" style="margin-left: -43px; margin-top: -96px; width: 96px; height: 96px; transform: translate3d(-1021px, 991px, 0px); z-index: 991; opacity: 1;"><img src="https://github.com/Han-lai/i-bar_map/blob/master/icons8-cocktail1.png?raw=true" class="leaflet-marker-icon leaflet-zoom-animated leaflet-interactive" alt="" tabindex="0" style="margin-left: -43px; margin-top: -96px; width: 96px; height: 96px; transform: translate3d(-1174px, -813px, 0px); z-index: -813; opacity: 1;"><img src="https://github.com/Han-lai/i-bar_map/blob/master/icons8-cocktail1.png?raw=true" class="leaflet-marker-icon leaflet-zoom-animated leaflet-interactive" alt="" tabindex="0" style="margin-left: -43px; margin-top: -96px; width: 96px; height: 96px; transform: translate3d(1302px, -913px, 0px); z-index: -913; opacity: 1;"><img src="https://github.com/Han-lai/i-bar_map/blob/master/icons8-cocktail1.png?raw=true" class="leaflet-marker-icon leaflet-zoom-animated leaflet-interactive" alt="" tabindex="0" style="margin-left: -43px; margin-top: -96px; width: 96px; height: 96px; transform: translate3d(1291px, -1020px, 0px); z-index: -1020; opacity: 1;"><img src="https://github.com/Han-lai/i-bar_map/blob/master/icons8-cocktail2.png?raw=true" class="leaflet-marker-icon leaflet-zoom-animated leaflet-interactive" alt="" tabindex="0" style="margin-left: -43px; margin-top: -96px; width: 96px; height: 96px; transform: translate3d(402px, -247px, 0px); z-index: -247; opacity: 1;"><img src="https://github.com/Han-lai/i-bar_map/blob/master/icons8-cocktail1.png?raw=true" class="leaflet-marker-icon leaflet-zoom-animated leaflet-interactive" alt="" tabindex="0" style="margin-left: -43px; margin-top: -96px; width: 96px; height: 96px; transform: translate3d(559px, -249px, 0px); z-index: -249; opacity: 1; outline: none;"><img src="https://github.com/Han-lai/i-bar_map/blob/master/icons8-cocktail2.png?raw=true" class="leaflet-marker-icon leaflet-zoom-animated leaflet-interactive" alt="" tabindex="0" style="margin-left: -43px; margin-top: -96px; width: 96px; height: 96px; transform: translate3d(-1053px, -1428px, 0px); z-index: -1428;"></div><div class="leaflet-pane leaflet-tooltip-pane"></div><div class="leaflet-pane leaflet-popup-pane"><div class="leaflet-popup  leaflet-zoom-animated" style="opacity: 1; transform: translate3d(560px, -345px, 0px); bottom: -7px; left: -321px;"><div class="leaflet-popup-content-wrapper"><div class="leaflet-popup-content" style="width: 601px;"><p class="popup-name"> 萊憶酒吧</p><p></p><p class="popup-star">   評分數 : 4.5</p><p></p><p class="popup-address">地址 : 大安區忠孝東路四段209號</p><p></p></div></div><div class="leaflet-popup-tip-container"><div class="leaflet-popup-tip"></div></div><a class="leaflet-popup-close-button" href="#close">×</a></div></div><div class="leaflet-proxy leaflet-zoom-animated" style="transform: translate3d(1.12427e+08px, 5.74605e+07px, 0px) scale(262144);"></div></div><div class="leaflet-control-container"><div class="leaflet-top leaflet-left"><div class="leaflet-control-zoom leaflet-bar leaflet-control"><a class="leaflet-control-zoom-in leaflet-disabled" href="#" title="Zoom in" role="button" aria-label="Zoom in">+</a><a class="leaflet-control-zoom-out" href="#" title="Zoom out" role="button" aria-label="Zoom out">−</a></div></div><div class="leaflet-top leaflet-right"></div><div class="leaflet-bottom leaflet-left"></div><div class="leaflet-bottom leaflet-right"><div class="leaflet-control-attribution leaflet-control"><a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> | © <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors</div></div></div></div>
<script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.1/leaflet.markercluster.js"></script>
<script id="rendered-js">
var map = L.map("map", {
  center: [25.040959, 121.553324],
  zoom: 17
});



var OpenStreetMap_Mapnik = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
	maxZoom: 19,
	attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
}).addTo(map);



// ------------------------------------------------
// // setView 可以設定地圖座標
// // watch 則是持續監聽使用者的位置
// map.locate({setView: true, watch: true});
// // 成功監聽到使用者的位置時觸發
// map.on('locationfound', onLocationFound);
// // 失敗時觸發
// map.on('locationerror', onLocationError);
// function onLocationFound(e) {
// }
// function onLocationError(e) {
// }

// function onLocationFound(e) {
//   var myLocation = e.latlng // 使用者位置
// 　var bookstore = L.latLng(25.129836537742896, 121.74017250433087) // 書店
//   console.log(myLocation.distanceTo(bookstore)) // 計算使用者和書店的距離
// }

// -----------------------------------------



var circle = L.circle([25.040959, 121.553324],   // 圓心座標
 100,                // 半徑（公尺）
  {
      color: 'skyblue',      // 線條顏色
      fillColor: '#00298a', // 填充顏色
      fillOpacity: 0.1   // 透明度
  }
).addTo(map);


var Icon1 = new L.Icon({
  iconUrl: 'https://github.com/Han-lai/i-bar_map/blob/master/icons8-cocktail1.png?raw=true',
  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
    iconSize: [96, 96],
    iconAnchor: [43, 96],
    popupAnchor: [1, -96],
    shadowSize: [10, 10]
});

var Icon2 = new L.Icon({
  iconUrl: 'https://github.com/Han-lai/i-bar_map/blob/master/icons8-cocktail2.png?raw=true',
  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
    iconSize: [96, 96],
    iconAnchor: [43, 96],
    popupAnchor: [1, -96],
    shadowSize: [10, 10]
});

var Icon3 = new L.Icon({
    iconUrl: 'https://github.com/Han-lai/i-bar_map/blob/master/icons8-cocktail3.png?raw=true',
    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
    iconSize: [96, 96],
    iconAnchor: [43, 96],
    popupAnchor: [1, -96],
    shadowSize: [10, 10]
});

var blackIcon = new L.Icon({
    iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-black.png',
    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
    iconSize: [96, 96],
    iconAnchor: [43, 96],
    popupAnchor: [1, -96],
    shadowSize: [10, 10]
});

var markers = new L.MarkerClusterGroup().addTo(map);;
//在中心座標，放上黑色定位圖標
//L.marker([25.037801, 121.548855], { icon: blackIcon }).addTo(map);


var xhr = new XMLHttpRequest();
xhr.open('get', 'https://raw.githubusercontent.com/Han-lai/i-bar_map/master/bar_location/taipei_bar.json');
xhr.send();
xhr.onload = function () {
    var data = JSON.parse(xhr.responseText).results;
    for (var i = 0; i < data.length; i++) {

        //將酒吧星級標記不同顏色的圖標
        var imageIcon = blackIcon;
        if (data[i].rating >= 4.5)
            imageIcon = Icon1;
        else if (data[i].rating > 4.0)
            imageIcon = Icon2;
        else if (data[i].rating > 3.0)
            imageIcon = Icon3;
        
        //設定酒吧經緯度和 Popup 內容
        var mark = L.marker([
            data[i].geometry.location.lat,
            data[i].geometry.location.lng
        ], { icon: imageIcon }
        ).bindPopup(
            '<p class="popup-name"> ' + 
                data[i].name + '<p/>' +
            '<p class="popup-star">   評分數 : ' + 
                data[i].rating + '<p/>' +
            '<p class="popup-address">地址 : ' + 
                data[i].vicinity + '<p/>', { minWidth:600 ,maxHeight: 500});
        //將圖標加入圖層
        markers.addLayer(mark);
    }
    map.addLayer(markers);
};
    </script>

</body></html>